<!DOCTYPE html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
--><html lang="en" class="no-js">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!-- overrides: https://github.com/mmistakes/minimal-mistakes/blob/master/_includes/head.html -->

<meta charset="utf-8">

<!-- begin _includes/seo.html --><title>3D animations and skinning - libGDX</title>
<meta name="description" content="libGDX is a cross-platform Java game development framework based on OpenGL (ES) that works on Windows, Linux, macOS, Android, your browser and iOS.">



<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="libGDX">
<meta property="og:title" content="3D animations and skinning">
<meta property="og:url" content="https://crykn.github.io/pages/crykn/wiki/3d-animations-and-skinning">


  <meta property="og:description" content="libGDX is a cross-platform Java game development framework based on OpenGL (ES) that works on Windows, Linux, macOS, Android, your browser and iOS.">



  <meta property="og:image" content="https://crykn.github.io/pages/crykn/assets/images/logo.png">










<link rel="canonical" href="https://crykn.github.io/pages/crykn/wiki/3d-animations-and-skinning">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": null,
      "url": "https://crykn.github.io/pages/crykn/"
    
  }
</script>


  <meta name="google-site-verification" content="qc0iys9Aweas1z8EhICO-0Ohwh6Iq1GDV6K75e0ToO8">






<!-- end _includes/seo.html -->



  <link href="/pages/crykn/feed.xml" type="application/atom+xml" rel="alternate" title="libGDX Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- Light mode -->
<link rel="stylesheet" href="/pages/crykn/assets/css/main.css">

<!-- Dark mode -->

  <meta name="color-scheme" content="light dark">
  <style>
    @import url("/pages/crykn/assets/css/main2.css") (prefers-color-scheme: dark);
  </style>


<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>




    <!-- Favicons -->
<link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/icons/favicon-16x16.png">
<link rel="manifest" href="/assets/icons/site.webmanifest">
<link rel="mask-icon" href="/assets/icons/safari-pinned-tab.svg" color="#5bbad5">
<link rel="shortcut icon" href="/assets/icons/favicon.ico">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/icons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">

    <link rel="stylesheet" href="/assets/css/wiki.css">
  </head>

  <body class="layout--wiki">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    <!-- overrides: _includes/masthead.html -->




<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/pages/crykn/">
            <picture>
              
                <!-- dark mode logo -->
                <source srcset="/pages/crykn/assets/brand/logo_dark.svg" media="(prefers-color-scheme: dark)">
              
              <img src="/pages/crykn/assets/brand/logo.svg" alt=" ">
            </source></picture>
          </a>
        
        <a class="site-title" href="/pages/crykn/">
           
          
        </a>
        <ul class="visible-links">
<li class="masthead__menu-item">
              <a href="/pages/crykn/">Back to Main Site</a>
            </li>
<li class="masthead__menu-item">
              <a href="/pages/crykn/wiki/">Wiki Home</a>
            </li>
</ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">

      <div id="main" role="main">
  <header>
    <h1 id="page-title" class="page__title" itemprop="headline">3D animations and skinning
</h1>

    <div class="header-meta">
      Last edited on 17 November 2021 • <a href="https://github.com/crykn/crykn.github.io/commits/dev/" rel="external">View revision history<span class="ico-ext"><i class="fas fa-external-link-alt"></i></span></a> • <a href="https://github.com/crykn/crykn.github.io/edit/dev/_wiki/3d-animations-and-skinning.md" rel="external">Edit on GitHub<span class="ico-ext"><i class="fas fa-external-link-alt"></i></span></a>
    </div>
  </header>
  <article class="page h-entry" itemscope itemtype="https://schema.org/CreativeWork">
    <div class="page__inner-wrap">
      <section class="page__content e-content markdown-body" itemprop="text">
          <aside class="sidebar__right">
            <nav class="toc">
              <div class="toc__menu">
                
                <h1 id="table-of-contents">Table of Contents</h1>
<p><a href="/wiki/wiki-style-guide">Wiki Style Guide</a></p>

<h2 id="getting-started">Getting Started</h2>
<ul>
  <li><a href="/wiki/setup">Setting Up a Dev Environment</a></li>
  <li><a href="/wiki/project-generation">Creating Your First libGDX Project</a></li>
  <li><a href="/wiki/import-and-running">Importing &amp; Running It</a></li>
  <li><a href="/wiki/a-simple-game">A Simple Game</a></li>
  <li><a href="/wiki/simple-game-extended">Extending the Simple Game</a></li>
</ul>

<h2 id="developers-guide">Developer’s Guide</h2>
<details><summary>The Application Framework</summary>

<div>
    <ul>
      <li><a href="/wiki/the-application-framework">The Application Framework</a></li>
      <li><a href="/wiki/the-life-cycle">The Life-Cycle</a></li>
      <li><a href="/wiki/modules-overview">Modules Overview</a></li>
      <li><a href="/wiki/starter-classes-and-configuration">Starter Classes and Configuration</a></li>
      <li><a href="/wiki/querying">Querying</a></li>
      <li><a href="/wiki/logging">Logging</a></li>
      <li><a href="/wiki/threading">Threading</a></li>
      <li><a href="/wiki/interfacing-with-platform-specific-code">Interfacing With Platform-Specific Code</a></li>
    </ul>
  </div>

</details>

<p><a href="/wiki/file-handling">File Handling</a></p>

<p><a href="/wiki/networking">Networking</a></p>

<p><a href="/wiki/preferences">Preferences</a></p>

<details><summary>Input Handling</summary>

<div>
    <ul>
      <li><a href="/wiki/input-handling">Input Handling</a></li>
      <li><a href="/wiki/configuration-and-querying">Configuration and Querying</a></li>
      <li>
<a href="/wiki/mouse,-touch-and-keyboard">Mouse, Touch and Keyboard</a>
        <ul>
          <li><a href="/wiki/polling">Polling</a></li>
          <li><a href="/wiki/event-handling">Event Handling</a></li>
        </ul>
      </li>
      <li><a href="/wiki/controllers">Controllers</a></li>
      <li><a href="/wiki/gesture-detection">Gesture Detection</a></li>
      <li><a href="/wiki/simple-text-input">Simple Text Input</a></li>
      <li><a href="/wiki/accelerometer">Accelerometer</a></li>
      <li><a href="/wiki/compass">Compass</a></li>
      <li><a href="/wiki/gyroscope">Gyroscope</a></li>
      <li><a href="/wiki/vibrator">Vibrator</a></li>
      <li><a href="/wiki/cursor-visibility-and-catching">Cursor Visibility and Catching</a></li>
      <li><a href="/wiki/back-and-menu-key-catching">Back and Menu Key Catching</a></li>
      <li><a href="/wiki/on-screen-keyboard">On-Screen Keyboard</a></li>
      <li><a href="/wiki/adding-new-keycodes">Adding new Keycodes</a></li>
    </ul>
  </div>

</details>

<p><a href="/wiki/memory-management">Memory Management</a></p>

<details><summary>Audio</summary>

<div>
    <ul>
      <li><a href="/wiki/audio">Audio</a></li>
      <li><a href="/wiki/sound-effects">Sound Effects</a></li>
      <li><a href="/wiki/streaming-music">Streaming Music</a></li>
      <li><a href="/wiki/playing-pcm-audio">Playing PCM Audio</a></li>
      <li><a href="/wiki/recording-pcm-audio">Recording PCM Audio</a></li>
    </ul>
  </div>

</details>

<details><summary>Graphics</summary>

<div>
    <ul>
      <li><a href="/wiki/graphics">Graphics</a></li>
      <li><a href="/wiki/querying-and-configuring-graphics-(monitors,-display-modes,-vsync,-display-cutouts)">Querying and configuring graphics (monitors, display modes, vsync, display cutouts)</a></li>
      <li><a href="/wiki/continuous-and-non-continuous-rendering">Continuous and Non-Continuous Rendering</a></li>
      <li><a href="/wiki/clearing-the-screen">Clearing the Screen</a></li>
      <li><a href="/wiki/taking-a-screenshot">Taking a Screenshot</a></li>
      <li><a href="/wiki/profiling">Profiling</a></li>
      <li><a href="/wiki/viewports">Viewports</a></li>
      <li>
<a href="/wiki/opengl-(es)-support">OpenGL (ES) Support</a>
        <ul>
          <li>Configuration and Querying OpenGL ??</li>
          <li>Direct Access ??</li>
          <li>Utility Classes<br>
 -<a href="/wiki/rendering-shapes">Rendering Shapes</a><br>
 -<a href="/wiki/textures-and-textureregions">Textures and TextureRegions</a><br>
 -<a href="/wiki/meshes">Meshes</a><br>
 -<a href="/wiki/shaders">Shaders</a><br>
 -<a href="/wiki/frame-buffer-objects">Frame Buffer Objects</a>
</li>
        </ul>
      </li>
    </ul>

    <p>    <strong>2D Graphics</strong></p>
    <ul>
      <li><a href="/wiki/spritebatch,-textureregions,-and-sprites">SpriteBatch, TextureRegions, and Sprites</a></li>
      <li><a href="/wiki/2d-animation">2D Animation</a></li>
      <li><a href="/wiki/clipping,-with-the-use-of-scissorstack">Clipping, With the Use of ScissorStack</a></li>
      <li><a href="/wiki/masking">Masking</a></li>
      <li><a href="/wiki/orthographic-camera">Orthographic Camera</a></li>
      <li>Mapping Touch Coordinates ??</li>
      <li><a href="/wiki/ninepatches">NinePatches</a></li>
      <li>
<a href="/wiki/bitmap-fonts">Bitmap Fonts</a>
        <ul>
          <li><a href="/wiki/distance-field-fonts">Distance Field Fonts</a></li>
          <li><a href="/wiki/color-markup-language">Color Markup Language</a></li>
        </ul>
      </li>
      <li><a href="/wiki/using-textureatlases">Using TextureAtlases</a></li>
      <li><a href="/wiki/pixmaps">Pixmaps</a></li>
      <li><a href="/wiki/packing-atlases-offline">Packing Atlases Offline</a></li>
      <li><a href="/wiki/packing-atlases-at-runtime">Packing Atlases at Runtime</a></li>
      <li><a href="/wiki/texture-compression">Texture Compression</a></li>
      <li><a href="/wiki/2d-particleeffects">2D ParticleEffects</a></li>
      <li><a href="/wiki/tile-maps">Tile Maps</a></li>
      <li><a href="/wiki/scene2d">scene2d</a></li>
      <li>
<a href="/wiki/scene2d.ui">scene2d.ui</a>
        <ul>
          <li><a href="/wiki/table">Table</a></li>
          <li><a href="/wiki/skin">Skin</a></li>
        </ul>
      </li>
      <li><a href="/wiki/imgui">ImGui</a></li>
    </ul>

    <p>    <strong><a href="/wiki/3d-graphics">3D Graphics</a></strong></p>

    <ul>
      <li><a href="/wiki/quick-start">Quick Start</a></li>
      <li><a href="/wiki/models">Models</a></li>
      <li><a href="/wiki/material-and-environment">Material and Environment</a></li>
      <li><a href="/wiki/modelbatch">ModelBatch</a></li>
      <li><a href="/wiki/modelcache">ModelCache</a></li>
      <li><a href="/wiki/modelbuilder,-meshbuilder-and-meshpartbuilder">ModelBuilder, MeshBuilder and MeshPartBuilder</a></li>
      <li><a href="/wiki/3d-animations-and-skinning">3D Animations and Skinning</a></li>
      <li><a href="/wiki/importing-blender-models-in-libgdx">Importing Blender Models in libGDX</a></li>
      <li><a href="/wiki/3d-particle-effects">3D Particle Effects</a></li>
      <li><a href="/wiki/virtual-reality-(vr)">Virtual Reality (VR)</a></li>
      <li><a href="/wiki/3d-picking">3D Picking</a></li>
      <li>Perspective Camera ??</li>
    </ul>
  </div>

</details>

<p><a href="/wiki/managing-your-assets">Managing Your Assets</a></p>

<p><a href="/wiki/html5-backend-and-gwt-specifics">HTML5 Backend and GWT Specifics</a></p>

<p><a href="/wiki/internationalization-and-localization">Internationalization and Localization</a></p>

<details><summary>Utilities</summary>

<div>
    <ul>
      <li><a href="/wiki/reading-and-writing-json">Reading and Writing JSON</a></li>
      <li><a href="/wiki/reading-and-writing-xml">Reading and Writing XML</a></li>
      <li><a href="/wiki/collections">Collections</a></li>
      <li><a href="/wiki/reflection">Reflection</a></li>
      <li><a href="/wiki/jnigen">jnigen</a></li>
    </ul>
  </div>

</details>

<details><summary>Math Utilities</summary>

<div>
    <ul>
      <li><a href="/wiki/math-utilities">Math Utilities</a></li>
      <li><a href="/wiki/interpolation">Interpolation</a></li>
      <li><a href="/wiki/vectors,-matrices,-quaternions">Vectors, Matrices, Quaternions</a></li>
      <li><a href="/wiki/circles,-planes,-rays,-etc.">Circles, Planes, Rays, etc.</a></li>
      <li><a href="/wiki/path-interface-and-splines">Path Interface and Splines</a></li>
      <li>Bounding Volumes ??</li>
      <li>Intersection and Overlap Testing ??</li>
    </ul>
  </div>

</details>

<details><summary>Tools</summary>

<div>
    <ul>
      <li><a href="/wiki/texture-packer">Texture Packer</a></li>
      <li><a href="/wiki/hiero">Hiero</a></li>
      <li><a href="/wiki/2d-particle-editor">2D Particle Editor</a></li>
      <li><a href="/wiki/skin-composer">Skin Composer</a></li>
      <li><a href="/wiki/overlap2d">Overlap2D</a></li>
    </ul>
  </div>

</details>

<details><summary>Extensions</summary>

<div>
    <ul>
      <li><a href="/wiki/artificial-intelligence">Artificial Intelligence</a></li>
      <li><a href="/wiki/gdx-freetype">gdx-freetype</a></li>
      <li>
<a href="/wiki/gdx-pay">gdx-pay</a>: cross-platform In-App-Purchasing API</li>
      <li>
<a href="/wiki/physics">Physics</a>
        <ul>
          <li><a href="/wiki/box2d">Box2D</a></li>
          <li>
<a href="/wiki/bullet-physics">Bullet Physics</a><br>
 -<a href="/wiki/bullet-wrapper-setup">Setup</a><br>
 -<a href="/wiki/bullet-wrapper-using-the-wrapper">Using the Wrapper</a><br>
 -<a href="/wiki/bullet-wrapper-using-models">Using Models</a><br>
 -<a href="/wiki/bullet-wrapper-contact-callbacks">Contact Callbacks</a><br>
 -<a href="/wiki/bullet-wrapper-custom-classes">Custom Classes</a><br>
 -<a href="/wiki/bullet-wrapper-debugging">Debugging</a>
</li>
        </ul>
      </li>
      <li><a href="/wiki/third-party-extension-support">Publishing Your Own Extensions</a></li>
    </ul>
  </div>

</details>

<details><summary>Using libGDX With Other JVM Languages</summary>

<div>
    <ul>
      <li><a href="/wiki/using-libgdx-with-other-jvm-languages">Using libGDX With Other JVM Languages</a></li>
      <li><a href="/wiki/using-libgdx-with-clojure">Using libGDX With Clojure</a></li>
      <li><a href="/wiki/using-libgdx-with-kotlin">Using libGDX With Kotlin</a></li>
      <li><a href="/wiki/using-libgdx-with-python">Using libGDX With Python</a></li>
      <li><a href="/wiki/using-libgdx-with-scala">Using libGDX With Scala</a></li>
    </ul>
  </div>

</details>

<details><summary>Third Party Services</summary>

<div>
    <ul>
      <li><a href="/wiki/admob-in-libgdx">AdMob in libGDX</a></li>
      <li><a href="/wiki/airpush-in-libgdx">Airpush in libGDX</a></li>
      <li><a href="/wiki/firebase-in-libgdx">Firebase in libGDX</a></li>
      <li><a href="/wiki/smaato-in-libgdx">Smaato in libGDX</a></li>
      <li><a href="/wiki/google-play-games-services-in-libgdx">Google Play Games Services in libGDX</a></li>
      <li><a href="/wiki/pollfish-in-libgdx">Pollfish in libGDX</a></li>
      <li><a href="/wiki/proguard/dexguard-and-libgdx">ProGuard/DexGuard and libGDX</a></li>
    </ul>
  </div>

</details>

<h2 id="articles">Articles</h2>
<ul>
  <li><a href="/wiki/getting-help">Getting Help</a></li>
  <li><a href="/wiki/external-tutorials">External Tutorials</a></li>
  <li><a href="/wiki/java-development-kit---selection">Java Development Kit - Selection</a></li>
  <li><a href="/wiki/deploying-your-application">Deploying your application</a></li>
  <li><a href="/wiki/coordinate-systems">Coordinate systems</a></li>
  <li><a href="/wiki/updating-libgdx">Updating Your libGDX Version</a></li>
  <li><a href="/wiki/dependency-management-with-gradle">Adding Extensions and 3rd Party Libraries</a></li>
  <li><a href="/wiki/improving-workflow-with-gradle">Improving Your Gradle Workflow</a></li>
  <li><a href="/wiki/creating-a-separate-assets-project-in-eclipse">Creating Asset Project in Eclipse</a></li>
</ul>

              </div>
            </nav>
          </aside>

        <p>A Model (and ModelInstance) can contain one or more animations. An animation is a sequence (keyframes) of transformations which are applied to one or more nodes of the model. Each animation is identified by it’s name (id), which must be unique within the model. E.g. you might have character with an animation called “walk” and “attack”. This page describes how to load and use animations within your application.</p>

<p>Skinning can be used to deform the model (mesh) based on the transformation of one or more nodes. This is commonly used conjunction with animations. The page also describes how to use skinning within your application.</p>

<h1 id="loading-animations">Loading animations</h1>
<p>When using fbx-conv to convert your model from FBX to G3DB/G3DJ, animations are automatically converted along with it. Just like FBX, G3DB/G3DJ files can contain multiple animations in a single file along with the other model data. Animations applied to nodes which are not present in the source FBX file, will not be converted. So make sure to select all the nodes and animations when exporting to FBX.</p>

<p>You can check the converted animations by converting to the G3DJ file format and opening the resulting file in your favorite text editor. The animations are located at the bottom of the file. Be aware that animations (keyframes) can bloat the file, so it’s advised to use the smaller G3DB file format on production.</p>

<p>libGDX does not support custom interpolation between keyframes. If you use an interpolation other than linear, fbx-conv will generate additional keyframes to compensate this. This compensation is done according to the target FPS. While the target FPS is customizable in FBX, not all modeling applications allow you to change this value (the default is 30 FPS). To avoid bloating the file with additional keyframes, make sure to use linear interpolation whenever possible.</p>

<p>When you load the G3DB/G3DJ file in your application using G3dModelLoader or AssetManager, the animations are also loaded. When you create a ModelInstance from the Model, the Animations are also copied to the ModelInstance. If you specify specific nodes while creating the ModelInstance, only the animations that are applied to those nodes (and child nodes) are copied to the new ModelInstance.</p>

<h1 id="using-animations">Using animations</h1>
<h2 id="applying-a-single-animation">Applying a single animation</h2>
<p>To apply an animation to a ModelInstance, you can create an AnimationController. An AnimationController is dedicated to a single ModelInstance and the ModelInstance must outlive the AnimationController. The AnimationController can be used to apply a single animation to the ModelInstance at a time, although it support blending (=transitioning) between multiple animations. If you want to apply multiple animations to the same ModelInstance, you can use multiple AnimationControllers, as long as they don’t interfere with each other (don’t affect the same nodes).</p>

<p>When an animation is set (described below), the AnimationController needs to be updated every frame. This can be done using the <code class="language-plaintext highlighter-rouge">AnimationController.update(float delta)</code> method. The <code class="language-plaintext highlighter-rouge">delta</code> argument is used to inform the AnimationController how much time is past since the last call to update. Most commonly <code class="language-plaintext highlighter-rouge">Gdx.graphics.getDeltaTime()</code> is used for that parameter.</p>

<p>To set the current animation, use the <code class="language-plaintext highlighter-rouge">setAnimation(String id)</code> method. This will cause the animation to be played immediately (removing the current animation, if any). The <code class="language-plaintext highlighter-rouge">id</code> argument must be the name (case sensitive) of an existing animation within the ModelInstance.</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">ModelInstance</span> <span class="n">instance</span><span class="o">;</span>
<span class="nc">AnimationController</span> <span class="n">controller</span><span class="o">;</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">create</span><span class="o">()</span> <span class="o">{</span>
    <span class="o">...</span>
    <span class="n">instance</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ModelInstance</span><span class="o">(</span><span class="n">model</span><span class="o">);</span>
    <span class="n">controller</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">AnimationController</span><span class="o">(</span><span class="n">instance</span><span class="o">);</span>
    <span class="n">controller</span><span class="o">.</span><span class="na">setAnimation</span><span class="o">(</span><span class="s">"walk"</span><span class="o">);</span>
<span class="o">}</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">render</span><span class="o">()</span> <span class="o">{</span>
    <span class="o">...</span>
    <span class="n">controller</span><span class="o">.</span><span class="na">update</span><span class="o">(</span><span class="nc">Gdx</span><span class="o">.</span><span class="na">graphics</span><span class="o">.</span><span class="na">getDeltaTime</span><span class="o">());</span>
    <span class="o">...</span>
<span class="o">}</span>
</code></pre></div></div>

<p>The <code class="language-plaintext highlighter-rouge">setAnimation(String id)</code> method will play the animation once at normal speed and then stop (freezing the animation at the last frame of the animation). To remove the animation (so the nodes are at their original transformation), call <code class="language-plaintext highlighter-rouge">setAnimation(null)</code>.</p>

<h3 id="looping">Looping</h3>
<p>If you want to execute an animation more than once, you can use the <code class="language-plaintext highlighter-rouge">setAnimation(String id, int loopCount)</code> method. The <code class="language-plaintext highlighter-rouge">loopCount</code> argument can be used to specify how many times the animation should be played (which must not be zero). To continuous loop the animation use the value <code class="language-plaintext highlighter-rouge">-1</code>.</p>

<h2 id="animationdesc">AnimationDesc</h2>
<p>Every animation method (like <code class="language-plaintext highlighter-rouge">setAnimation(...)</code> returns an <code class="language-plaintext highlighter-rouge">AnimationDesc</code> instance, which is valid while the animation is being played (or queued to be played, see below). The AnimationDesc contains all information about the animation, like the current animation time and the number of loops remaining for that animation. You can alter those values to control the animation during execution. When the animation is ended, you must remove all references to the AnimationDesc, as it might be reused (pooled) for a next animation.</p>

<h2 id="animationlistener">AnimationListener</h2>
<p>To get notified when an animation is looped or ended you can implement the <code class="language-plaintext highlighter-rouge">AnimationListener</code> interface. It will be notified when an animation is ended or looped. It receives the AnimationDesc of the animation that ended or looped. You can supply your AnimationListener with every animation method, e.g. <code class="language-plaintext highlighter-rouge">setAnimation(String id, int loopCount, AnimationListener listener)</code>.</p>

<h2 id="blending-animations">Blending animations</h2>
<p>When switching animation using the <code class="language-plaintext highlighter-rouge">setAnimation</code>, the previous animation is stopped abruptly. It is possible to blend the previous animation into the new animation, giving a smooth transition between animations. You can use the <code class="language-plaintext highlighter-rouge">animate(...)</code> for that. The animate method takes the same parameters as the setAnimation method along with an additional <code class="language-plaintext highlighter-rouge">transitionTime</code> argument. During this time the new animation will be linear interpolated on top of the old animation, resulting in a smooth transition. If there is no previous animation, then the new animation will start immediately.</p>

<h2 id="queuing-animations">Queuing animations</h2>
<p>To start an animation when the current animation is completed, you can use the <code class="language-plaintext highlighter-rouge">queue(...)</code> method. If the current animation is continuously looping, the queued animation will be executed when the current loop completed. Otherwise the queued animation will be executed when the current animation is ended (including all loops remaining). If there is no current animation, the queued animation will be executed immediately. Queued animations will be blended if a transition time greater than zero is specified.</p>

<h2 id="action-animation">Action animation</h2>
<p>An action animation is a (commonly short) animation that is executed on top of the current the animation. In practice, it is the same calling <code class="language-plaintext highlighter-rouge">animate(...)</code> with the action animation and calling <code class="language-plaintext highlighter-rouge">queue(...)</code> with the previous animation.</p>

<h2 id="animation-speed">Animation speed</h2>
<p>Every animate method (like <code class="language-plaintext highlighter-rouge">setAnimation</code>, <code class="language-plaintext highlighter-rouge">animate</code>, <code class="language-plaintext highlighter-rouge">queue</code> and <code class="language-plaintext highlighter-rouge">action</code>) allows you to set the speed of that particular animation. The speed is defined as “seconds per second”. So a value of <code class="language-plaintext highlighter-rouge">1</code> will play the animation at the normal speed. A value higher than one will play the animation faster (e.g. a value of <code class="language-plaintext highlighter-rouge">2</code> will execute the animation at twice the original speed). A value lower than one will play the animation slower (e.g. a value of <code class="language-plaintext highlighter-rouge">0.5</code> will execute the animation at half the original speed). The speed can be negative, meaning that the animation will be executed in reverse.</p>

<p>While you can control the speed of an individual animation, you can also control the overall speed of every animation by changing the delta value of the <code class="language-plaintext highlighter-rouge">update(float delta)</code> method AnimationController. E.g. if you call <code class="language-plaintext highlighter-rouge">controller.update(0.5f * Gdx.graphics.getDeltaTime());</code>, the overall speed will be half the original speed. The delta value can also be negative, meaning all animations are played in reverse.</p>

<h2 id="node-transformations">Node transformations</h2>
<p>While an animation is executed, all the affected nodes will have the <code class="language-plaintext highlighter-rouge">isAnimated</code> member set to true. This will cause the Node’s translation, rotation and scale values not be used. So, while animating, you cannot transform the affected nodes yourself.</p>

<h1 id="skinning">Skinning</h1>
<p>Skinning is used to transform the model according to the transformation of one or more nodes (also called bones or joints). Most commonly when using skinning, invisible nodes (nodes with no NodeParts attached to them) are used to deform the model. These nodes (which commonly form a hierarchy) are also called a skeleton or armature.</p>

<p>So in practice, when using skinning, your model has an invisible skeleton part (one or more nodes) and a visible part (one or more nodes). While the visible nodes themselves stay untransformed, the skeleton is transformed (e.g. by animation) and therefor affect the position of the vertices of the visible mesh.</p>

<p>This is accomplished by using blend weights (also called bone weights) which are vertex attributes of the visible nodes. Each blend weight has an index (of the specific bone/node) and a weight (how much it is influenced by that bone/node). Each visible node (NodePart) has a reference to it’s bones (nodes of the skeleton).</p>

<h2 id="loading-skinning">Loading skinning</h2>
<p>libGDX only supports shader skinning, which requires at least Open GL ES 2.0. If you created your skinned model using a modeling application, exported it to FBX and converted it to G3DB/G3DJ, then skinning should seamlessly work. Just keep in mind that you need to export both the visible and invisible (skeleton) nodes along with the animations themselves.</p>

<p>Skinning can require some tweaking to get the best and optimal result. By default fbx-conv will include 4 bone weights per vertex (each vertex can be influenced by at most four nodes). Also by default, fbx-conv will group vertices that share the same bones and split the mesh into multiple parts when the total number of bones influencing the vertices is more than 12.</p>

<p>Splitting the mesh is done because the shader is limited in the amount of variables it can use. However, this will result in multiple <a href="/wiki/modelbatch#what-are-render-calls">render calls</a> which might impact performance. For more information about this, have a look at <a href="https://web.archive.org/web/20200429023316/https://badlogicgames.com/forum/viewtopic.php?f=11&amp;t=12910&amp;p=57297#p57250">this post</a>.</p>

<p>You can change the default values of fbx-conv by using the command line option <code class="language-plaintext highlighter-rouge">-w</code> and <code class="language-plaintext highlighter-rouge">-b</code>. The <code class="language-plaintext highlighter-rouge">-w</code> command allows you to specify the amount of bones that can influence one vertex. Which must be in the range between 1 and 8 (the default shader does not support more than 8 bone weights). You typically should try to keep this as low as possible.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>fbx-conv -w 3 inputfile.fbx
</code></pre></div></div>

<p>The <code class="language-plaintext highlighter-rouge">-b</code> command allows you to specify the total amount of bones allowed before fbx-conv starts splitting the mesh. This value must be more than zero and has no hard limit. You typically should not set it below three times the number specified with the <code class="language-plaintext highlighter-rouge">-w</code> command. You can increase the value to avoid splitting the mesh, but at the cost of shader uniforms.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>fbx-conv -b 16 inputfile.fbx
</code></pre></div></div>

<p>If you do use the <code class="language-plaintext highlighter-rouge">-b</code> command line option to change the maximum number of bones, you should also change the shader to use that same amount. This can be done using the <a href="http://libgdx.badlogicgames.com/nightlies/docs/api/com/badlogic/gdx/graphics/g3d/shaders/DefaultShader.Config.html#numBones"><code class="language-plaintext highlighter-rouge">Config#numBones</code></a> member when creating the <a href="https://github.com/libgdx/libgdx/wiki/ModelBatch#shaderprovider" rel="external">ShaderProvider<span class="ico-ext"><i class="fas fa-external-link-alt"></i></span></a> for ModelBatch. For example:</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">DefaultShader</span><span class="o">.</span><span class="na">Config</span> <span class="n">config</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">DefaultShader</span><span class="o">.</span><span class="na">Config</span><span class="o">();</span>
<span class="n">config</span><span class="o">.</span><span class="na">numBones</span> <span class="o">=</span> <span class="mi">16</span><span class="o">;</span>
<span class="n">modelBatch</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ModelBatch</span><span class="o">(</span><span class="k">new</span> <span class="nc">DefaultShaderProvider</span><span class="o">(</span><span class="n">config</span><span class="o">));</span>
</code></pre></div></div>


        <div style="border-color: #d0d7de;border-style: solid;border-width: 1px;border-radius: 6px;box-shadow: 0 1px 0 rgba(27,31,36,0.04) !important;background-color: #f6f8fa !important;padding: 8px 16px;margin-bottom: 20px;margin-top: 15px;">
          <p style="font-size: 13px;margin-bottom: 0px !important;">
            <b>© 2021 libGDX</b> • This wiki is a community effort. If you find information out of date or want to add some more in-depth explanations, you are very welcome to do the necessary changes. Before contributing, please take a look at our <a href="/wiki/wiki-style-guide">Wiki Style Guide</a>.
            <br>
            <br>
            <b>If you need additional help, check out our community on <a href="https://libgdx.com/community/discord/" rel="external">Discord<span class="ico-ext"><i class="fas fa-external-link-alt"></i></span></a>!</b>
          </p>
        </div>
      </section>
    </div>

  </article>
</div>


    </div>

    
  <script src="/pages/crykn/assets/js/main.min.js"></script>










  </body>
</html>
